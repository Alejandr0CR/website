<!DOCTYPE html><html lang="es"> <head><!-- meta --><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="author" content="contacto@alejandrocr.co"><meta name="description" content="En nuestro mundo hiperconectado, los protagonistas son quienes entienden cómo funciona la tecnología de la que tanto dependemos."><meta name="Keywords" content="alejandrocr, personal, portfolio, blog, technology, software, writing"><meta name="generator" content="Astro v4.16.18"><meta name="viewport" content="width=device-width, initial-scale=1.0"><!-- open graph --><meta property="og:description" content="En nuestro mundo hiperconectado, los protagonistas son quienes entienden cómo funciona la tecnología de la que tanto dependemos."><meta property="og:image" content="/images/favicon.png"><meta property="og:title" content="Despliegue de una aplicación Django con Nginx y ASGI | Laboratorio | Alejandro Carrasco Rodríguez"><meta property="og:type" content="website"><meta property="og:url" content="https://www.alejandrocr.co"><!-- redirect --><link rel="canonical" href="https://www.alejandrocr.co"><!-- links --><link rel="icon" type="image/png" href="/images/favicon.png"><link rel="stylesheet" href="/bootstrap5/bootstrap.min.css"><link rel="stylesheet" href="/fontawesome/all.min.css"><link rel="stylesheet" href="/styles/colors.css"><link rel="stylesheet" href="/styles/global.css"><!-- title --><title>Despliegue de una aplicación Django con Nginx y ASGI | Laboratorio | Alejandro Carrasco Rodríguez</title><style>.footer-width[data-astro-cid-sz7xmlte]{width:85%}.nav-link[data-astro-cid-mrhgzavu].active{border-bottom:2px solid white}
li[data-astro-cid-oinsp4u5] b[data-astro-cid-oinsp4u5]{white-space:pre-line;word-break:break-word}ol[data-astro-cid-oinsp4u5] li[data-astro-cid-oinsp4u5]{list-style:decimal}ul[data-astro-cid-oinsp4u5] li[data-astro-cid-oinsp4u5]{list-style:disc}
</style></head> <body>  <nav class="navbar navbar-expand-lg navbar-dark bg-black text-light" data-astro-cid-mrhgzavu> <div class="container-fluid" data-astro-cid-mrhgzavu> <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarScroll" data-astro-cid-mrhgzavu> <span class="navbar-toggler-icon" data-astro-cid-mrhgzavu></span> </button> <div class="collapse navbar-collapse" id="navbarScroll" data-astro-cid-mrhgzavu> <ul class="m-auto my-2 my-lg-0 navbar-nav navbar-nav-scroll" style="--bs-scroll-height: 200px;" data-astro-cid-mrhgzavu> <li class="me-5 nav-item" data-astro-cid-mrhgzavu> <a class="nav-link " href="/" data-astro-cid-mrhgzavu>Inicio</a> </li> <li class="me-5 nav-item" data-astro-cid-mrhgzavu> <a class="nav-link active" href="/blog" data-astro-cid-mrhgzavu>Blog</a> </li> <li class="nav-item" data-astro-cid-mrhgzavu> <a class="nav-link " href="/about" data-astro-cid-mrhgzavu>Perfil</a> </li> </ul> </div> </div> </nav>  <div class="pt-3" data-astro-cid-oinsp4u5> <header class="mx-auto mb-4 title-bar" data-astro-cid-oinsp4u5> <section class="no-selectable bg-black rounded-4 text-light" data-astro-cid-oinsp4u5> <div class="py-3" data-astro-cid-oinsp4u5> <h1 class="d-block text-center h4" data-astro-cid-oinsp4u5>Laboratorio</h1> </div> </section> </header> <main class="bg-white mx-auto mb-5 p-5 rounded h-100 reader" data-astro-cid-oinsp4u5> <section class="mb-5 py-3 rounded-4" data-astro-cid-oinsp4u5> <h1 class="mb-4 text-primary text-center h2" data-astro-cid-oinsp4u5> Despliegue de una aplicación Django con Nginx y ASGI </h1> <p class="d-block mb-5 text-justify fs-5" data-astro-cid-oinsp4u5></p> <h2 class="mb-4 text-primary h4" data-astro-cid-oinsp4u5>¿Por qué usar Nginx?</h2> <p class="d-block mb-5 text-justify fs-5" data-astro-cid-oinsp4u5>
Nginx es actualmente uno de los servidores web con más
          características. Es un servidor web de alto rendimiento con múltiples
          casos de uso. Para una aplicación escalable y con diferentes tipos de
          servicios, Nginx es una excelente opción.
</p> <h2 class="mb-4 text-primary h4" data-astro-cid-oinsp4u5>
¿Por qué usar ASGI y por qué con Uvicorn?
</h2> <p class="d-block mb-5 text-justify fs-5" data-astro-cid-oinsp4u5>
ASGI es la forma de ejecutar Python asíncrono en un servidor web. ASGI
          es compatible con HTTP y WebSockets, lo que permite que Django tenga
          funcionalidades en tiempo real. Para implementar ASGI en tu proyecto,
          debes usar una herramienta como Uvicorn.
</p> <h2 class="mb-4 text-primary h4" data-astro-cid-oinsp4u5>
Crear usuario que controlará los recursos de la aplicación
</h2> <ol class="d-block mb-5 text-justify fs-5" data-astro-cid-oinsp4u5> <li class="mb-5" data-astro-cid-oinsp4u5>
Inicia sesión como <b data-astro-cid-oinsp4u5>usuario root</b> en el servidor.
</li> <li class="mb-5" data-astro-cid-oinsp4u5>
Crea un usuario con su respectivo directorio personal usando el
            comando
<code class="d-block bg-dark my-1 p-2 rounded-2 text-white text-start" data-astro-cid-oinsp4u5>
useradd djangouser -g www-data -s /bin/bash -m -d /home/djangouser
</code> <ul data-astro-cid-oinsp4u5> <li data-astro-cid-oinsp4u5><b data-astro-cid-oinsp4u5>djangouser</b> es el nombre del usuario que se creará.</li> <li data-astro-cid-oinsp4u5> <b data-astro-cid-oinsp4u5>www-data</b> es el grupo al que pertenecerá el usuario.
</li> <li data-astro-cid-oinsp4u5><b data-astro-cid-oinsp4u5>/bin/bash</b> es la shell que usará el usuario.</li> <li data-astro-cid-oinsp4u5> <b data-astro-cid-oinsp4u5>/home/djangouser</b> es el directorio personal del usuario.
</li> </ul> </li> <li data-astro-cid-oinsp4u5>
Crea una contraseña para el usuario creado usando el comando
<code class="d-block bg-dark my-1 p-2 rounded-2 text-white text-start" data-astro-cid-oinsp4u5>
passwd djangouser
</code>
A continuación, el sistema te pedirá que ingreses la contraseña dos veces.
</li> </ol> <h2 class="mb-4 text-primary h4" data-astro-cid-oinsp4u5>
Instalar aplicación y configurar directorios
</h2> <ol class="d-block mb-5 text-justify fs-5" data-astro-cid-oinsp4u5> <li class="mb-5" data-astro-cid-oinsp4u5>
Inicia sesión como el usuario <b data-astro-cid-oinsp4u5>djangouser</b> en el servidor.
</li> <li class="mb-5" data-astro-cid-oinsp4u5>
Descarga el proyecto usando el comando
<code class="d-block bg-dark my-1 p-2 rounded-2 text-white text-start" data-astro-cid-oinsp4u5>
git clone https://example.com/djangoapp.git
</code> <ul data-astro-cid-oinsp4u5> <li data-astro-cid-oinsp4u5> <b data-astro-cid-oinsp4u5>https://example.com/djangoapp.git</b> es la URL del repositorio,
                recuerda reemplazarla por la URL del repositorio de tu proyecto.
</li> <li data-astro-cid-oinsp4u5>
Puedes usar el repositorio
<a class="text-primary" href="https://github.com/virtualitems/djangoapp.git" target="_blank" data-astro-cid-oinsp4u5>
https://github.com/virtualitems/djangoapp.git
</a>
para probar el laboratorio.
</li> </ul> </li> <li class="mb-5" data-astro-cid-oinsp4u5>
Accede al directorio del proyecto usando el comando
<code class="d-block bg-dark my-1 p-2 rounded-2 text-white text-start" data-astro-cid-oinsp4u5>
cd djangoapp
</code> <ul data-astro-cid-oinsp4u5> <li data-astro-cid-oinsp4u5> <b data-astro-cid-oinsp4u5>djangoapp</b> es el nombre del directorio del proyecto que se
                crea al clonar el repositorio.
</li> </ul> </li> <li class="mb-5" data-astro-cid-oinsp4u5>
Crea un entorno virtual dentro del directorio del proyecto usando el
            comando
<code class="d-block bg-dark my-1 p-2 rounded-2 text-white text-start" data-astro-cid-oinsp4u5>
python3 -m venv venv
</code> <ul data-astro-cid-oinsp4u5> <li data-astro-cid-oinsp4u5>
El último <b data-astro-cid-oinsp4u5>venv</b> es el nombre del directorio que se creará para
                el entorno virtual.
</li> </ul> </li> <li class="mb-5" data-astro-cid-oinsp4u5>
Actualiza el gestor de paquetes <i data-astro-cid-oinsp4u5>pip</i> usando el comando
<code class="d-block bg-dark my-1 p-2 rounded-2 text-white text-start" data-astro-cid-oinsp4u5>
venv/bin/pip3 install --upgrade pip
</code> <ul data-astro-cid-oinsp4u5> <li data-astro-cid-oinsp4u5>
Nótese que a partir de este punto <b data-astro-cid-oinsp4u5>debes usar los binarios del entorno virtual</b> y no los del sistema siempre que sea posible.
</li> <li data-astro-cid-oinsp4u5>
Es posible usar sólo el nombre del binario sin escribir la ruta
                relativa al "activar" el entorno virtual usando el comando <code data-astro-cid-oinsp4u5>source venv/bin/activate</code> </li> </ul> </li> <li class="mb-5" data-astro-cid-oinsp4u5>
Instala las dependencias del proyecto usando el comando
<code class="d-block bg-dark my-1 p-2 rounded-2 text-white text-start" data-astro-cid-oinsp4u5>
venv/bin/pip3 install -r requirements.txt
</code> </li> <li class="mb-5" data-astro-cid-oinsp4u5>
Instala las dependencias de ejecución usando el comando
<code class="d-block bg-dark my-1 p-2 rounded-2 text-white text-start" data-astro-cid-oinsp4u5>
venv/bin/pip3 install uvicorn[standard] gunicorn
</code> <ul data-astro-cid-oinsp4u5> <li data-astro-cid-oinsp4u5> <b data-astro-cid-oinsp4u5>uvicorn</b> es un servidor web ASGI que será el intermediario
                entre Django y Nginx
</li> <li data-astro-cid-oinsp4u5> <b data-astro-cid-oinsp4u5>gunicorn</b> es un servidor web HTTP con workers optimizados que
                uvicorn puede importar.
</li> </ul> </li> <li class="mb-5" data-astro-cid-oinsp4u5>
Crea un archivo de configuración para gunicorn usando el comando
<code class="d-block bg-dark my-1 p-2 rounded-2 text-white text-start" data-astro-cid-oinsp4u5>
vim gunicorn.conf.py
</code> <ul class="mb-2" data-astro-cid-oinsp4u5> <li data-astro-cid-oinsp4u5>
El comando <code data-astro-cid-oinsp4u5>vim</code> puede ser reemplazado por el editor de
                tu preferencia.
</li> </ul> <span class="mb-4 h5" data-astro-cid-oinsp4u5>
El contenido del archivo debe ser el siguiente:
</span> <div data-astro-cid-oinsp4u5> <iframe frameborder="0" scrolling="no" style="width:100%; height:475px;" allow="clipboard-write" src="https://emgithub.com/iframe.html?target=https%3A%2F%2Fgithub.com%2Fvirtualitems%2Fdjangoapp%2Fblob%2Fstage1%2Fgunicorn.conf.py&style=dark&type=code&showLineNumbers=on&showFileMeta=on&showCopy=on" data-astro-cid-oinsp4u5></iframe> </div> </li> </ol> <h2 class="mb-4 text-primary h4" data-astro-cid-oinsp4u5>Probemos el proyecto hasta ahora</h2> <ol class="d-block mb-5 text-justify fs-5" data-astro-cid-oinsp4u5> <li class="mb-5" data-astro-cid-oinsp4u5>
Comprueba la configuración de gunicorn usando el comando
<code class="d-block bg-dark my-1 p-2 rounded-2 text-white text-start" data-astro-cid-oinsp4u5>
venv/bin/python3 -m gunicorn -c gunicorn.conf.py --check-config
              djangoapp.asgi:application
</code> <ul data-astro-cid-oinsp4u5> <li data-astro-cid-oinsp4u5>
Si la configuración es correcta, el comando no mostrará ningún
                mensaje.
</li> </ul> </li> <li class="mb-5" data-astro-cid-oinsp4u5>
Verifica la configuración que está tomando el gunicorn con el
            comando
<code class="d-block bg-dark my-1 p-2 rounded-2 text-white text-start" data-astro-cid-oinsp4u5>
venv/bin/python3 -m gunicorn -c gunicorn.conf.py --print-config
              djangoapp.asgi:application
</code> </li> <li class="mb-5" data-astro-cid-oinsp4u5>
Inicia el proyecto usando el comando
<code class="d-block bg-dark my-1 p-2 rounded-2 text-white text-start" data-astro-cid-oinsp4u5>
venv/bin/python3 -m gunicorn -c gunicorn.conf.py
              djangoapp.asgi:application
</code> </li> <li class="mb-5" data-astro-cid-oinsp4u5>
Accede a la IP del servidor de pruebas provisto por el uvicorn
            usando un navegador web
</li> </ol> </section> </main> </div> <div class="d-block py-6 py-lg-5" data-astro-cid-sz7xmlte>&nbsp;</div> <footer class="bottom-0 position-absolute w-100" data-astro-cid-sz7xmlte> <div class="relative bg-black mx-auto py-3 rounded-top-3 text-light container" data-astro-cid-sz7xmlte> <nav data-astro-cid-sz7xmlte> <div class="mb-3 text-center" data-astro-cid-sz7xmlte> <a class="d-block d-lg-inline me-lg-4 py-2" href="https://github.com/virtualitems" target="_blank" data-astro-cid-sz7xmlte>
Github <i class="fab fa-github" data-astro-cid-sz7xmlte></i> </a> <a class="d-block d-lg-inline me-lg-4 py-2" href="https://www.linkedin.com/in/alejandro-carrasco-rodr%C3%ADguez-a06a37175/" target="_blank" data-astro-cid-sz7xmlte>
Linkedin <i class="fab fa-linkedin" data-astro-cid-sz7xmlte></i> </a> </div> </nav> <div class="py-2" data-astro-cid-sz7xmlte> <p class="m-0 text-center" data-astro-cid-sz7xmlte>© 2025 Alejandro Carrasco Rodríguez</p> </div> </div> </footer>   <script src="/popper/popper.min.js"></script> <script src="/bootstrap5/bootstrap.min.js"></script> <script src="/fontawesome/all.min.js"></script> </body> </html> 